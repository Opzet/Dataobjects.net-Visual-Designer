//------------------------------------------------------------------------------
// <auto-generated>
//     DataObjects.Net Entity Model Designer
//     Template version: 1.0.5.0
//     This code was generated from a template.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace TXSoftware.DataObjectsNetEntityModel.Web.Model
{
    
    public sealed partial class DtoMappings: DtoMappingsBase
    {
    }
    
    public abstract class DtoMappingsBase
    {
    	private Xtensive.ObjectMapping.Model.MappingDescription descriptor;
    	
    	public Xtensive.ObjectMapping.Model.MappingDescription Descriptor
    	{
    		get
    		{
    			if (descriptor == null)
    			{
    				descriptor = CreateMappingDescriptor();
    			}
    			return descriptor;
    		}
    	}
    	
    	public virtual Xtensive.ObjectMapping.Model.MappingDescription CreateMappingDescriptor()
    	{
    		var mapping1 = new Xtensive.ObjectMapping.MappingBuilder()
    			.MapType<TXSoftware.DataObjectsNetEntityModel.Web.Model.ProductVersion, TXSoftware.DataObjectsNetEntityModel.ProductVersionDto, string>(entity => entity.Key.Format(), objDto => objDto._MappingKey)
    			.IgnoreProperty(objDto => objDto.OriginalObject)
    			.TrackChanges(dto => dto.Version, false);
    		UpdateMappingBuilder(mapping1);
    
    		var mapping2 = 
    			mapping1
    			.MapType<TXSoftware.DataObjectsNetEntityModel.Web.Model.ProductVersionChange, TXSoftware.DataObjectsNetEntityModel.ProductVersionChangeDto, string>(entity => entity.Key.Format(), objDto => objDto._MappingKey)
    			.IgnoreProperty(objDto => objDto.OriginalObject)
    			.TrackChanges(dto => dto.Id, false);
    		UpdateMappingBuilder(mapping2);
    
    		return mapping2.Build();
    	}

        protected virtual void UpdateMappingBuilder(Xtensive.ObjectMapping.IMappingBuilderAdapter<TXSoftware.DataObjectsNetEntityModel.Web.Model.ProductVersion, TXSoftware.DataObjectsNetEntityModel.ProductVersionDto> mapping)
        {}

        protected virtual void UpdateMappingBuilder(Xtensive.ObjectMapping.IMappingBuilderAdapter<TXSoftware.DataObjectsNetEntityModel.Web.Model.ProductVersionChange, TXSoftware.DataObjectsNetEntityModel.ProductVersionChangeDto> mapping)
        {}
    }
}
